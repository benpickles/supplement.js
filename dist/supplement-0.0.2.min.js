// supplement.js JavaScript Extras, version: 0.0.2
// (c) 2011 Oliver Nightingale
//
//  Released under MIT license.
//
supplement={defineAlias:function(a,b,c){this.defineMethod(a,b,a[c])},defineMethod:function(a,b,c){a[b]||(typeof Object.defineProperties=="function"?Object.defineProperty(a,b,{value:c,enumerable:!1,configurable:!1}):a[b]=c)}};supplement.defineMethod(Array,"wrap",function(a){if(a==null||a==void 0)return[];if(Array.isArray(a))return a;return[a]});supplement.defineMethod(Array.prototype,"uniq",function(){return this.reduce(function(a,b){a.indexOf(b)===-1&&a.push(b);return a},[])});
supplement.defineMethod(Array,"range",function(a,b){if(!a||!b)throw new TypeError("Array.range called with no range start or end");for(var c=[],d=a;d<=b;d++)c.push(d);return c});supplement.defineMethod(Array.prototype,"detect",function(a,b){for(var c=this.length,d=null,e=0;e<c;e++)if(a.call(b,this[e],e,this)){d=this[e];break}return d});
supplement.defineMethod(Array,"toArray",function(a){if(typeof a==="string")throw new TypeError("Array.toArray called on non-arguments");return Array.prototype.slice.call(a,0)});supplement.defineMethod(Array.prototype,"head",function(){return this[0]});supplement.defineMethod(Array.prototype,"tail",function(){return this.slice(1)});supplement.defineMethod(Array.prototype,"compact",function(){return this.filter(function(a){return a})});
supplement.defineMethod(Array.prototype,"group",function(a,b){if(typeof a!=="function")throw new TypeError;return this.reduce(function(c,d,e,f){e=a.call(b,d,e,f);c[e]||(c[e]=[]);c[e].push(d);return c},{})});supplement.defineMethod(Array.prototype,"reject",function(a,b){if(typeof a!=="function")throw new TypeError;return this.reduce(function(c,d,e,f){a.call(b,d,e,f)||c.push(d);return c},[])});supplement.defineMethod(Array.prototype,"take",function(a){if(!a)throw new TypeError;return this.slice(0,a)});
supplement.defineMethod(Array.prototype,"drop",function(a){if(!a)throw new TypeError;return this.slice(a)});supplement.defineMethod(Function.prototype,"singleUse",function(){var a=this,b=!1;return function(){if(!b){b=!0;var c=Array.prototype.slice.call(arguments,0);return a.apply(null,c)}}});
supplement.defineMethod(Function.prototype,"curry",function(){var a=Array.prototype.slice.call(arguments,0),b=this;return function(){Array.prototype.slice.call(arguments,0).forEach(function(b){a.push(b)});return b.apply(null,a)}});supplement.defineMethod(Function.prototype,"throttle",function(a){var b=this,c,d;return function(){var e=Array.prototype.slice.call(arguments,0);c=new Date;d=d||0;if(!(c-d<a))return d=c,b.apply(null,e)}});
supplement.defineMethod(Function.prototype,"debounce",function(a){var b=this,c;return function(){var d=Array.prototype.slice.call(arguments,0);clearTimeout(c);c=setTimeout(function(){return b.apply(null,d)},a)}});supplement.defineMethod(Number.prototype,"times",function(a){for(var b=0;b<this;b++)a(b)});supplement.defineMethod(Number.prototype,"seconds",function(){return this*1E3});supplement.defineAlias(Number.prototype,"second","seconds");
supplement.defineMethod(Number.prototype,"minutes",function(){return this.seconds()*60});supplement.defineAlias(Number.prototype,"minute","minutes");supplement.defineMethod(Number.prototype,"hours",function(){return this.minutes()*60});supplement.defineAlias(Number.prototype,"hour","hours");supplement.defineMethod(Number.prototype,"pad",function(a){if(typeof a!=="number")throw new TypeError;if(a<0)throw new RangeError;for(var b=this+"";Math.floor(a--);)b="0"+b;return b});
supplement.defineMethod(Object,"values",function(a){if(a!==Object(a))throw new TypeError("Object.values called on non-object");return Object.keys(a).map(function(b){return a[b]})});
supplement.defineMethod(Object,"provide",function(a){if(a!==Object(a))throw new TypeError("Object.provide called on non-object");var b=Array.prototype.slice.call(arguments,1),c=a;b.forEach(function(a){if(c[a]){if(c[a]!==Object(c[a]))throw new TypeError("Object.provide can only add properties to a plain object");}else c[a]={};c=c[a]});return c});
